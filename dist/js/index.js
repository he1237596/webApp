var app=angular.module("app",["ui.router"]);angular.module("app").service("myHttp",["$http",function(t){this.jsonp=function(e,o,l,n){t({url:e,method:"jsonp",params:o}).then(function(t){l&&l(t)}).catch(function(t){n&&n(t)})},this.getData=function(){},this.postData=function(){}}]),angular.module("app").controller("AppController",["$scope","$window","$location",function(t,e,o){t.appTitle="每日一刻",t.title="首页",t.id=0,t.hidde=!1,t.$on("tab_notifice",function(e,o){var l=["首页","作者","栏目","我"];t.$broadcast("home_notifice",{title:l[o.id]}),t.id=o.id}),t.back=function(){e.history.back()},t.location=o,t.$watch("location.url()",function(e,o){var l=e.toString().indexOf("detail");t.hidde=-1!=l})}]),angular.module("app").controller("DetailController",["$scope","$stateParams",function(t,e){var o=e.id;t.item=t.homeData.posts[o],console.log(t.item)}]),angular.module("app").controller("HomeController",["$scope","myHttp",function(t,e){e.jsonp("http://localhost/api/home.php",null,function(e){console.log(e),t.homeData=e.data},function(t){console.log(t)})}]),angular.module("app").controller("TabbarController",["$scope",function(t){t.tabChange=function(e){t.$emit("tab_notifice",{id:e})}}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",views:{home:{templateUrl:"../views/home_tpl.html",controller:"HomeController"},author:{template:"<p>author</p> "},content:{template:"<p>content</p> "},my:{template:"<p>my</p> "}}}).state("home.list",{url:"/list",templateUrl:"../views/list_tpl.html"}).state("home.detail",{url:"/detail/:id",template:"<details></details>",controller:"DetailController"}),e.otherwise("home/list")}]),angular.module("app").directive("details",function(){return{restrict:"EA",template:'<div class="home_detail"></div>',replace:!0,link:function(t,e,o){e.html(t.item.content)}}}),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://localhost/api/**"])}]),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../views/nav_tpl.html",controller:["$scope",function(t){t.$on("home_notifice",function(e,o){t.title=o.title,console.log(o.title)})}]}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"../views/tabbar_tpl.html",controller:"TabbarController",replace:!0}});